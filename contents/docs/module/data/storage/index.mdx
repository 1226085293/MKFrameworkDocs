---
title: 本地存储
description:
order: 0
---

## 介绍

`mk.Storage` 是用于将用户保存到本地所使用的。例如玩家的账号，上次选择的角色，
不可能每次进入游戏都要重新输出一次，所以我们需要本地存储器

## 使用

`mk.Storage` 是一个类型，你可以创建多个 storage 对象，例如游戏中多角色，多人开发解耦只有多个 storage 才更适合

### 创建

```ts
class StorageData {
    /** 测试数据 */
    testStr = '';
}

let storage = new mk.Storage({
    nameStr: '存储器名字',
    data: new StorageData(),
});
```

初始化参数如下
| 属性 | 描述 |
| ------- | ----------------------------- |
| nameStr | 存储器名（可选），用于在存储时区分不同存储器，不存在时数据则暂时存储在内存中而非本地 |
| data | 初始数据，如果你想要首次获取数据时就存在对应的值，就得传递对应的初始数据 |
| codec | 编解码器（可选），你可以传递一个 CodecBase 子类，用于对存储数据加密/解密 |
| writeIntervalMsNum | 写入间隔时间（可选，单位毫秒），每次存储都会等待间隔时间，防止过于频繁的存储导致卡顿 |
