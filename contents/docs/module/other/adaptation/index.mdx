---
title: 屏幕适配
description: 屏幕和节点适配
order: 0
---

## 介绍

框架内提供了两个适配组件，分别用于屏幕和节点

## 屏幕适配

`mk.AdaptationCanvas` 是屏幕适配组件，并且框架封装了两种适配类型

```ts
/** 适配模式 */
export enum AdaptationMode {
    /** 无 */
    None,
    /** 自适应（更宽定高，更高定宽） */
    Adaptive,
    /** 固定尺寸（屏幕尺寸不同大小相同） */
    FixedSize,
}
```

你只需要修改配置类型，框架就会自动进行屏幕适配

```ts:GlobalConfig.ts
namespace GlobalConfig {
    ...
	export namespace View {
        ...
		/** 适配类型 */
		export const adaptationType: AdaptationMode = AdaptationMode.Adaptive;
    }
}
```

## 节点适配

节点适配是依靠在节点上添加 `MKAdaptationNode` 组件进行的

![节点适配组件](/docs/b295ee71-bf87-4cd2-bcd4-ac31d9283489.png)

### 适配模式

-   Scale: 组件会调整当前节点的缩放来进行适配

-   Size: 组件会调整当前节点的宽高来进行适配

当设置为 Size 时，组件会在挂载时或节点更换图片时保存节点的原始大小，推荐使用 Scale

### 适配来源

-   Canvas：Canvas 大小

-   Parent：父节点大小
-   Customize：自定义大小

适配来源也就是节点适配的目标尺寸来源

### 适配类型

图中红色为适配来源，图片为适配节点

-   默认: 原始尺寸
    ![原始尺寸](/docs/0288ad1e-67da-4408-a8f5-ccda463588b2.png)

-   缩放: 和目标尺寸一致
    ![缩放](/docs/8be43e2f-d900-41af-bf87-66a576c3e2fe.png)
-   自适应\_展示完
    ![自适应_展示完](/docs/fc40650c-bae9-47e7-9a91-26af830ceeb9.png)
-   自适应\_填充满
    ![自适应_填充满](/docs/ff80167b-c0ab-4cf9-805a-5c2c0a357770.png)
-   填充宽
    ![填充宽](/docs/ff80167b-c0ab-4cf9-805a-5c2c0a357770.png)
-   填充高
    ![填充高](/docs/f72f72be-b113-41b5-acca-53f547a4c9e3.png)

## 常见问题（FAQ）

**Q：Widget 4 边距为 0 但是没充满屏幕**

Widget 是依靠父节点的大小定位的，所以 4 边距为 0 时大小应该和父节点一致

**Q：Canvas 节点下的 Widget 靠某一边 0 边距超出了屏幕**

说明适配大小大于实际显示尺寸，检查场景的配置是否错误，
场景的错误配置会导致适配结果错误，首先选中 Canvas 节点

![场景配置](/docs/2dae21a1-aebe-4b5d-9934-6375c245b53a.png)

1. 确保 Canvas 上的 Camera Component 属性是 2D 摄像机（Canvas 下默认会存在一个 2D Camera）

2. 确保 Canvas 上的 Widget 组件四边距都为 0
